<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ãƒ¼ãƒ‰ãƒ‡ãƒªãƒãƒªãƒ¼ãƒ»ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
    <style>
        body {
            font-family: 'Hiragino Sans', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã‚·ãƒƒã‚¯', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .view-toggle {
            text-align: center;
            margin-bottom: 30px;
        }

        .toggle-btn {
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(142, 68, 173, 0.3);
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(142, 68, 173, 0.4);
        }

        .toggle-btn.active {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .data-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .data-section h2 {
            color: #e74c3c;
            font-size: 1.4em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 10px;
        }

        .data-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .data-item:hover {
            border-color: #e74c3c;
            background: #fff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.2);
        }

        .data-item h3 {
            color: #2c3e50;
            margin: 0 0 10px 0;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .copy-icon {
            color: #95a5a6;
            font-size: 0.9em;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .data-item:hover .copy-icon {
            opacity: 1;
        }

        .data-preview {
            color: #6c757d;
            font-size: 0.9em;
            font-family: 'Courier New', monospace;
            line-height: 1.4;
        }

        .data-key {
            color: #e74c3c;
            font-weight: 600;
        }

        .data-value {
            color: #2c3e50;
        }

        .random-section {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }

        .random-section h2 {
            color: white;
            border-bottom: 2px solid white;
        }

        .random-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .random-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .random-btn:hover {
            background: white;
            color: #3498db;
            transform: translateY(-2px);
        }

        .json-view {
            display: none;
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 600px;
            overflow-y: auto;
            border: 2px solid #34495e;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .json-view:hover {
            border-color: #e74c3c;
            background: #34495e;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #27ae60 0%, #219a52 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: 600;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(39, 174, 96, 0.3);
        }

        .toast.show {
            transform: translateX(0);
        }

        .icon {
            font-size: 1.2em;
        }

        .badge {
            background: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .clear-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .clear-btn:hover {
            background: linear-gradient(135deg, #7f8c8d 0%, #566667 100%);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ• ãƒ•ãƒ¼ãƒ‰ãƒ‡ãƒªãƒãƒªãƒ¼ãƒ»ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>

    <div class="view-toggle">
        <button class="toggle-btn active" onclick="switchView('card')" id="cardViewBtn">ã‚«ãƒ¼ãƒ‰è¡¨ç¤º</button>
        <button class="toggle-btn" onclick="switchView('json')" id="jsonViewBtn">JSONè¡¨ç¤º</button>
    </div>

    <div id="cardView" class="data-grid">
        <!-- ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æƒ…å ± -->
        <div class="data-section">
            <h2><span class="icon">ğŸª</span>ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³æƒ…å ± <span class="badge">5</span></h2>
            <div id="restaurants"></div>
        </div>

        <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® -->
        <div class="data-section">
            <h2><span class="icon">ğŸ“‹</span>ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® <span class="badge">5</span></h2>
            <div id="menus"></div>
        </div>

        <!-- æ³¨æ–‡æƒ…å ± -->
        <div class="data-section">
            <h2><span class="icon">ğŸ›’</span>æ³¨æ–‡æƒ…å ± <span class="badge">5</span></h2>
            <div id="orders"></div>
        </div>

        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± -->
        <div class="data-section">
            <h2><span class="icon">ğŸ‘¤</span>ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± <span class="badge">5</span></h2>
            <div id="users"></div>
        </div>

        <!-- é…é€æƒ…å ± -->
        <div class="data-section">
            <h2><span class="icon">ğŸšš</span>é…é€æƒ…å ± <span class="badge">5</span></h2>
            <div id="deliveries"></div>
        </div>

        <!-- æ”¯æ‰•ã„æƒ…å ± -->
        <div class="data-section">
            <h2><span class="icon">ğŸ’³</span>æ”¯æ‰•ã„æƒ…å ± <span class="badge">5</span></h2>
            <div id="payments"></div>
        </div>

        <!-- ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ -->
        <div class="data-section random-section">
            <h2><span class="icon">ğŸ²</span>ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ</h2>
            <div class="random-controls">
                <button class="random-btn" onclick="generateAndDisplay('restaurant')">ãƒ©ãƒ³ãƒ€ãƒ ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³</button>
                <button class="random-btn" onclick="generateAndDisplay('menu')">ãƒ©ãƒ³ãƒ€ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>
                <button class="random-btn" onclick="generateAndDisplay('order')">ãƒ©ãƒ³ãƒ€ãƒ æ³¨æ–‡</button>
                <button class="random-btn" onclick="generateAndDisplay('user')">ãƒ©ãƒ³ãƒ€ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼</button>
                <button class="random-btn" onclick="generateAndDisplay('delivery')">ãƒ©ãƒ³ãƒ€ãƒ é…é€</button>
                <button class="random-btn" onclick="generateAndDisplay('payment')">ãƒ©ãƒ³ãƒ€ãƒ æ”¯æ‰•ã„</button>
                <button class="random-btn" onclick="generateAndDisplay('complete')">å®Œå…¨ã‚»ãƒƒãƒˆ</button>
            </div>
        </div>
    </div>

    <div id="jsonView" class="json-view" onclick="copyJsonView()">
        ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦JSONã‚’ã‚³ãƒ”ãƒ¼
    </div>

    <button class="clear-btn" onclick="clearJsonView()">JSONãƒ“ãƒ¥ãƒ¼ã‚’ã‚¯ãƒªã‚¢</button>
</div>

<div class="toast" id="toast">ğŸ“‹ ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>

<script>
    // ãƒ‡ãƒ¼ã‚¿å®šç¾©ï¼ˆå‰å›ã¨åŒã˜ãƒ‡ãƒ¼ã‚¿ï¼‰
    const restaurants = [
        {
            id: "rest_001",
            name: "å’Œé¢¨äº­ ã•ãã‚‰",
            type: "å’Œé£Ÿ",
            address: "æ±äº¬éƒ½æ¸‹è°·åŒºé“ç„å‚1-2-3",
            phone: "03-1234-5678",
            rating: 4.5,
            delivery_fee: 300,
            min_order: 1500
        },
        {
            id: "rest_002",
            name: "Bella Vista Italian",
            type: "ã‚¤ã‚¿ãƒªã‚¢ãƒ³",
            address: "å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®åŒºå¿ƒæ–æ©‹2-1-5",
            phone: "06-9876-5432",
            rating: 4.8,
            delivery_fee: 400,
            min_order: 2000
        },
        {
            id: "rest_003",
            name: "é¾ç‹ä¸­è¯æ¥¼",
            type: "ä¸­è¯æ–™ç†",
            address: "ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚ä¸­åŒºä¸­è¯è¡—123-45",
            phone: "045-111-2222",
            rating: 4.3,
            delivery_fee: 350,
            min_order: 1800
        },
        {
            id: "rest_004",
            name: "Quick Burger Express",
            type: "ãƒ•ã‚¡ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰",
            address: "æ„›çŸ¥çœŒåå¤å±‹å¸‚ä¸­åŒºæ „3-4-5",
            phone: "052-333-4444",
            rating: 3.9,
            delivery_fee: 200,
            min_order: 800
        },
        {
            id: "rest_005",
            name: "CafÃ© LumiÃ¨re",
            type: "ã‚«ãƒ•ã‚§",
            address: "ç¦å²¡çœŒç¦å²¡å¸‚ä¸­å¤®åŒºå¤©ç¥2-3-4",
            phone: "092-555-6666",
            rating: 4.6,
            delivery_fee: 250,
            min_order: 1000
        }
    ];

    const menus = [
        [
            { id: "menu_001", name: "ç‰¹é¸è¦ªå­ä¸¼å®šé£Ÿ", category: "å®šé£Ÿ", price: 1280, description: "å›½ç”£é¶è‚‰ã¨æ–°é®®åµã‚’ä½¿ç”¨", allergens: ["åµ", "å°éº¦"] },
            { id: "menu_002", name: "å¤©ã·ã‚‰å®šé£Ÿ", category: "å®šé£Ÿ", price: 1580, description: "ã‚¨ãƒ“ã€é‡èœã®å¤©ã·ã‚‰ç››ã‚Šåˆã‚ã›", allergens: ["ãˆã³", "å°éº¦"] }
        ],
        [
            { id: "menu_003", name: "ãƒãƒ«ã‚²ãƒªãƒ¼ã‚¿ãƒ”ã‚¶ï¼ˆMï¼‰", category: "ãƒ”ã‚¶", price: 1680, description: "ãƒˆãƒãƒˆã‚½ãƒ¼ã‚¹ã€ãƒ¢ãƒƒãƒ„ã‚¡ãƒ¬ãƒ©ã€ãƒã‚¸ãƒ«", allergens: ["å°éº¦", "ä¹³"] },
            { id: "menu_004", name: "ã‚¯ã‚¢ãƒˆãƒ­ãƒ•ã‚©ãƒ«ãƒãƒƒã‚¸ï¼ˆLï¼‰", category: "ãƒ”ã‚¶", price: 2480, description: "4ç¨®ã®ãƒãƒ¼ã‚ºã‚’è´…æ²¢ã«ä½¿ç”¨", allergens: ["å°éº¦", "ä¹³"] }
        ],
        [
            { id: "menu_005", name: "é†¤æ²¹ãƒ©ãƒ¼ãƒ¡ãƒ³", category: "ãƒ©ãƒ¼ãƒ¡ãƒ³", price: 780, description: "æ˜”ãªãŒã‚‰ã®é†¤æ²¹ã‚¹ãƒ¼ãƒ—", allergens: ["å°éº¦", "å¤§è±†"] },
            { id: "menu_006", name: "ç‰¹è£½å‘³å™Œãƒ©ãƒ¼ãƒ¡ãƒ³", category: "ãƒ©ãƒ¼ãƒ¡ãƒ³", price: 980, description: "ã‚³ã‚¯æ·±ã„å‘³å™Œã‚¹ãƒ¼ãƒ—", allergens: ["å°éº¦", "å¤§è±†"] }
        ],
        [
            { id: "menu_007", name: "ç‰¹ä¸Šæ¡ã‚Šå¯¿å¸ã‚»ãƒƒãƒˆ", category: "å¯¿å¸", price: 2800, description: "å³é¸ãƒã‚¿10è²«ã‚»ãƒƒãƒˆ", allergens: ["é­š", "å¤§è±†"] },
            { id: "menu_008", name: "æµ·é®®ä¸¼", category: "ä¸¼", price: 1680, description: "æ–°é®®ãªåˆºèº«ã®ç››ã‚Šåˆã‚ã›ä¸¼", allergens: ["é­š", "å¤§è±†"] }
        ],
        [
            { id: "menu_009", name: "å­£ç¯€ã®ãƒ•ãƒ«ãƒ¼ãƒ„ãƒ‘ãƒ•ã‚§", category: "ãƒ‡ã‚¶ãƒ¼ãƒˆ", price: 880, description: "æ—¬ã®ãƒ•ãƒ«ãƒ¼ãƒ„ãŸã£ã·ã‚Š", allergens: ["ä¹³", "åµ"] },
            { id: "menu_010", name: "æ‰‹ä½œã‚Šãƒ†ã‚£ãƒ©ãƒŸã‚¹", category: "ãƒ‡ã‚¶ãƒ¼ãƒˆ", price: 680, description: "ãƒã‚¹ã‚«ãƒ«ãƒãƒ¼ãƒãƒãƒ¼ã‚ºä½¿ç”¨", allergens: ["ä¹³", "åµ"] }
        ]
    ];

    const orders = [
        {
            id: "order_001",
            user_id: "user_12345",
            restaurant_id: "rest_001",
            status: "confirmed",
            total: 1738,
            payment_method: "credit_card",
            delivery_type: "delivery"
        },
        {
            id: "order_002",
            user_id: "user_67890",
            restaurant_id: "rest_002",
            status: "preparing",
            total: 6364,
            payment_method: "qr_payment",
            delivery_type: "delivery"
        },
        {
            id: "order_003",
            user_id: "user_111213",
            restaurant_id: "rest_003",
            status: "out_for_delivery",
            total: 6909,
            payment_method: "cash_on_delivery",
            delivery_type: "delivery"
        },
        {
            id: "order_004",
            user_id: "user_141516",
            restaurant_id: "rest_004",
            status: "completed",
            total: 2880,
            payment_method: "electronic_money",
            delivery_type: "pickup"
        },
        {
            id: "order_005",
            user_id: "user_171819",
            restaurant_id: "rest_005",
            status: "cancelled",
            total: 2959,
            payment_method: "debit_card",
            delivery_type: "scheduled_delivery"
        }
    ];

    const users = [
        { id: "user_12345", name: "ç”°ä¸­ å¤ªéƒ", email: "tanaka.taro@example.com", member_type: "regular", total_orders: 42 },
        { id: "user_67890", name: "ä½è—¤ èŠ±å­", email: "sato.hanako@example.com", member_type: "premium", total_orders: 158 },
        { id: "user_111213", name: "å±±ç”°å•†äº‹æ ªå¼ä¼šç¤¾", email: "orders@yamada-corp.co.jp", member_type: "corporate", total_orders: 89 },
        { id: "user_141516", name: "éˆ´æœ¨ æ¬¡éƒ", email: "suzuki.jiro@newmail.com", member_type: "new", total_orders: 3 },
        { id: "user_171819", name: "é«˜æ©‹ ç¾å’²", email: "takahashi.misaki@vip.example.com", member_type: "vip", total_orders: 324 }
    ];

    const deliveries = [
        { id: "delivery_001", type: "standard", fee: 300, estimated_time: 30, area: "éƒ½å†…23åŒº" },
        { id: "delivery_002", type: "express", fee: 500, estimated_time: 15, area: "å¤§é˜ªå¸‚å†…" },
        { id: "delivery_003", type: "scheduled", fee: 200, estimated_time: 45, area: "æ¨ªæµœå¸‚å†…" },
        { id: "delivery_004", type: "contactless", fee: 250, estimated_time: 25, area: "åå¤å±‹å¸‚å†…" },
        { id: "delivery_005", type: "pickup", fee: 0, estimated_time: 10, area: "åº—èˆ—å—å–" }
    ];

    const payments = [
        { id: "payment_001", method: "credit_card", amount: 1738, status: "completed", brand: "VISA" },
        { id: "payment_002", method: "debit_card", amount: 2959, status: "pending", brand: "JCB" },
        { id: "payment_003", method: "electronic_money", amount: 2880, status: "completed", service: "Suica" },
        { id: "payment_004", method: "qr_payment", amount: 6364, status: "completed", service: "PayPay" },
        { id: "payment_005", method: "cash_on_delivery", amount: 6909, status: "pending", change_prepared: 1091 }
    ];

    let currentJsonData = null;

    // åˆæœŸåŒ–
    document.addEventListener('DOMContentLoaded', function() {
        renderDataItems();
    });

    // ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    function renderDataItems() {
        renderSection('restaurants', restaurants, renderRestaurant);
        renderSection('menus', menus, renderMenu);
        renderSection('orders', orders, renderOrder);
        renderSection('users', users, renderUser);
        renderSection('deliveries', deliveries, renderDelivery);
        renderSection('payments', payments, renderPayment);
    }

    function renderSection(containerId, data, renderFunction) {
        const container = document.getElementById(containerId);
        container.innerHTML = '';
        data.forEach((item, index) => {
            const element = renderFunction(item, index);
            container.appendChild(element);
        });
    }

    function createDataItem(title, preview, data) {
        const item = document.createElement('div');
        item.className = 'data-item';
        item.onclick = () => copyData(data, title);

        item.innerHTML = `
                <h3>
                    ${title}
                    <span class="copy-icon">ğŸ“‹ ã‚³ãƒ”ãƒ¼</span>
                </h3>
                <div class="data-preview">${preview}</div>
            `;

        return item;
    }

    function renderRestaurant(restaurant, index) {
        const preview = `<span class="data-key">åº—å:</span> <span class="data-value">${restaurant.name}</span><br>
                           <span class="data-key">æ¥­æ…‹:</span> <span class="data-value">${restaurant.type}</span><br>
                           <span class="data-key">è©•ä¾¡:</span> <span class="data-value">â­ ${restaurant.rating}</span><br>
                           <span class="data-key">é…é€æ–™:</span> <span class="data-value">Â¥${restaurant.delivery_fee}</span>`;
        return createDataItem(restaurant.name, preview, restaurant);
    }

    function renderMenu(menuSet, index) {
        const menuTypes = ['å®šé£Ÿãƒ¡ãƒ‹ãƒ¥ãƒ¼', 'ãƒ”ã‚¶ãƒ¡ãƒ‹ãƒ¥ãƒ¼', 'ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼', 'å¯¿å¸ãƒ¡ãƒ‹ãƒ¥ãƒ¼', 'ãƒ‡ã‚¶ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼'];
        const preview = menuSet.map(item =>
            `<span class="data-key">${item.name}:</span> <span class="data-value">Â¥${item.price}</span>`
        ).join('<br>');
        return createDataItem(menuTypes[index], preview, menuSet);
    }

    function renderOrder(order, index) {
        const statusMap = {
            'confirmed': 'ç¢ºèªæ¸ˆã¿',
            'preparing': 'èª¿ç†ä¸­',
            'out_for_delivery': 'é…é€ä¸­',
            'completed': 'å®Œäº†',
            'cancelled': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'
        };
        const preview = `<span class="data-key">æ³¨æ–‡ID:</span> <span class="data-value">${order.id}</span><br>
                           <span class="data-key">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</span> <span class="data-value">${statusMap[order.status] || order.status}</span><br>
                           <span class="data-key">åˆè¨ˆ:</span> <span class="data-value">Â¥${order.total}</span><br>
                           <span class="data-key">æ”¯æ‰•æ–¹æ³•:</span> <span class="data-value">${order.payment_method}</span>`;
        return createDataItem(`æ³¨æ–‡ #${order.id.split('_')[1]}`, preview, order);
    }

    function renderUser(user, index) {
        const typeMap = {
            'regular': 'ä¸€èˆ¬',
            'premium': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ',
            'corporate': 'æ³•äºº',
            'new': 'æ–°è¦',
            'vip': 'VIP'
        };
        const preview = `<span class="data-key">åå‰:</span> <span class="data-value">${user.name}</span><br>
                           <span class="data-key">ã‚¿ã‚¤ãƒ—:</span> <span class="data-value">${typeMap[user.member_type]}</span><br>
                           <span class="data-key">æ³¨æ–‡å›æ•°:</span> <span class="data-value">${user.total_orders}å›</span><br>
                           <span class="data-key">ãƒ¡ãƒ¼ãƒ«:</span> <span class="data-value">${user.email}</span>`;
        return createDataItem(user.name, preview, user);
    }

    function renderDelivery(delivery, index) {
        const typeMap = {
            'standard': 'é€šå¸¸é…é€',
            'express': 'ãŠæ€¥ãé…é€',
            'scheduled': 'æ™‚é–“æŒ‡å®š',
            'contactless': 'ç½®ãé…',
            'pickup': 'åº—èˆ—å—å–'
        };
        const preview = `<span class="data-key">ã‚¿ã‚¤ãƒ—:</span> <span class="data-value">${typeMap[delivery.type]}</span><br>
                           <span class="data-key">é…é€æ–™:</span> <span class="data-value">Â¥${delivery.fee}</span><br>
                           <span class="data-key">æ‰€è¦æ™‚é–“:</span> <span class="data-value">${delivery.estimated_time}åˆ†</span><br>
                           <span class="data-key">ã‚¨ãƒªã‚¢:</span> <span class="data-value">${delivery.area}</span>`;
        return createDataItem(typeMap[delivery.type], preview, delivery);
    }

    function renderPayment(payment, index) {
        const methodMap = {
            'credit_card': 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰',
            'debit_card': 'ãƒ‡ãƒ“ãƒƒãƒˆã‚«ãƒ¼ãƒ‰',
            'electronic_money': 'é›»å­ãƒãƒãƒ¼',
            'qr_payment': 'QRã‚³ãƒ¼ãƒ‰æ±ºæ¸ˆ',
            'cash_on_delivery': 'ä»£é‡‘å¼•æ›'
        };
        const statusMap = {
            'completed': 'å®Œäº†',
            'pending': 'å‡¦ç†ä¸­',
            'failed': 'å¤±æ•—'
        };
        const preview = `<span class="data-key">æ–¹æ³•:</span> <span class="data-value">${methodMap[payment.method]}</span><br>
                           <span class="data-key">é‡‘é¡:</span> <span class="data-value">Â¥${payment.amount}</span><br>
                           <span class="data-key">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</span> <span class="data-value">${statusMap[payment.status]}</span><br>
                           <span class="data-key">ã‚µãƒ¼ãƒ“ã‚¹:</span> <span class="data-value">${payment.brand || payment.service || '-'}</span>`;
        return createDataItem(methodMap[payment.method], preview, payment);
    }

    // ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
    function copyData(data, title) {
        const text = JSON.stringify(data, null, 2);
        copyToClipboard(text, `${title} ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼`);
        updateJsonView(data);
    }

    function copyToClipboard(text, message = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼') {
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(message);
            }).catch(err => {
                fallbackCopyTextToClipboard(text);
                showToast(message);
            });
        } else {
            fallbackCopyTextToClipboard(text);
            showToast(message);
        }
    }

    function fallbackCopyTextToClipboard(text) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        textArea.style.top = "0";
        textArea.style.left = "0";
        textArea.style.position = "fixed";
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
        } catch (err) {
            console.error('ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:', err);
        }
        document.body.removeChild(textArea);
    }

    function showToast(message = 'ğŸ“‹ ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼') {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 2000);
    }

    // ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
    function switchView(viewType) {
        const cardView = document.getElementById('cardView');
        const jsonView = document.getElementById('jsonView');
        const cardBtn = document.getElementById('cardViewBtn');
        const jsonBtn = document.getElementById('jsonViewBtn');

        if (viewType === 'card') {
            cardView.style.display = 'grid';
            jsonView.style.display = 'none';
            cardBtn.classList.add('active');
            jsonBtn.classList.remove('active');
        } else {
            cardView.style.display = 'none';
            jsonView.style.display = 'block';
            cardBtn.classList.remove('active');
            jsonBtn.classList.add('active');
        }
    }

    function updateJsonView(data) {
        currentJsonData = data;
        document.getElementById('jsonView').textContent = JSON.stringify(data, null, 2);
    }

    function copyJsonView() {
        if (currentJsonData) {
            copyToClipboard(JSON.stringify(currentJsonData, null, 2), 'JSONãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        }
    }

    function clearJsonView() {
        currentJsonData = null;
        document.getElementById('jsonView').textContent = 'ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦JSONã‚’ã‚³ãƒ”ãƒ¼';
    }

    // ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ
    function generateAndDisplay(type) {
        let data;
        let title;

        switch(type) {
            case 'restaurant':
                data = generateRandomRestaurant();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³';
                break;
            case 'menu':
                data = generateRandomMenu();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼';
                break;
            case 'order':
                data = generateRandomOrder();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ æ³¨æ–‡';
                break;
            case 'user':
                data = generateRandomUser();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ ãƒ¦ãƒ¼ã‚¶ãƒ¼';
                break;
            case 'delivery':
                data = generateRandomDelivery();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ é…é€';
                break;
            case 'payment':
                data = generateRandomPayment();
                title = 'ãƒ©ãƒ³ãƒ€ãƒ æ”¯æ‰•ã„';
                break;
            case 'complete':
                data = {
                    restaurant: generateRandomRestaurant(),
                    menu: generateRandomMenu(),
                    order: generateRandomOrder(),
                    user: generateRandomUser(),
                    delivery: generateRandomDelivery(),
                    payment: generateRandomPayment(),
                    timestamp: new Date().toISOString()
                };
                title = 'ãƒ©ãƒ³ãƒ€ãƒ å®Œå…¨ã‚»ãƒƒãƒˆ';
                break;
        }

        copyData(data, title);
    }

    // ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆç”¨ãƒ‡ãƒ¼ã‚¿
    const randomData = {
        restaurantNames: ["ç¾å‘³äº­", "ã‚°ãƒ«ãƒ¡ç‹", "é£Ÿæ¥½åœ’", "æ—¨å‘³å±‹", "æ–™ç†ã®æ£®", "å‘³ã®å®çŸ³ç®±", "çµ¶å“å ‚", "ã†ã¾ã„ã‚‚ã‚“å‡¦"],
        restaurantTypes: ["å’Œé£Ÿ", "æ´‹é£Ÿ", "ä¸­è¯", "éŸ“å›½æ–™ç†", "ã‚¿ã‚¤æ–™ç†", "ã‚¤ãƒ³ãƒ‰æ–™ç†", "ãƒ•ãƒ¬ãƒ³ãƒ", "ã‚¤ã‚¿ãƒªã‚¢ãƒ³"],
        menuNames: ["ç‰¹è£½å®šé£Ÿ", "ãŠã™ã™ã‚ã‚»ãƒƒãƒˆ", "äººæ°—No.1", "ã‚·ã‚§ãƒ•ã®ã“ã ã‚ã‚Š", "å­£ç¯€é™å®š", "åç‰©æ–™ç†"],
        categories: ["ãƒ¡ã‚¤ãƒ³", "ã‚µã‚¤ãƒ‰", "ãƒ‡ã‚¶ãƒ¼ãƒˆ", "ãƒ‰ãƒªãƒ³ã‚¯", "ã‚»ãƒƒãƒˆ", "é™å®š"],
        allergens: [["åµ"], ["ä¹³"], ["å°éº¦"], ["ãˆã³"], ["ã‹ã«"], ["å¤§è±†"], ["é­š"], ["è‚‰é¡"]],
        addresses: [
            "æ±äº¬éƒ½æ–°å®¿åŒºæ­Œèˆä¼ç”º1-1-1",
            "å¤§é˜ªåºœå¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°2-2-2",
            "æ„›çŸ¥çœŒåå¤å±‹å¸‚ä¸­åŒºæ „3-3-3",
            "ç¦å²¡çœŒç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰4-4-4",
            "åŒ—æµ·é“æœ­å¹Œå¸‚ä¸­å¤®åŒºã™ã™ãã®5-5-5"
        ],
        userNames: ["ç”°ä¸­", "ä½è—¤", "éˆ´æœ¨", "é«˜æ©‹", "ä¼Šè—¤", "æ¸¡è¾º", "å±±æœ¬", "ä¸­æ‘", "å°æ—", "åŠ è—¤"],
        firstNames: ["å¤ªéƒ", "èŠ±å­", "æ¬¡éƒ", "ç¾å’²", "å¥å¤ª", "ç”±ç¾", "å¤§è¼”", "æµå­", "ç¿”å¤ª", "çœŸç†"]
    };

    // ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆé–¢æ•°
    function generateRandomRestaurant() {
        const name = randomData.restaurantNames[Math.floor(Math.random() * randomData.restaurantNames.length)];
        const type = randomData.restaurantTypes[Math.floor(Math.random() * randomData.restaurantTypes.length)];
        const address = randomData.addresses[Math.floor(Math.random() * randomData.addresses.length)];

        return {
            id: `rest_${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`,
            name: name,
            type: type,
            address: address,
            phone: `0${Math.floor(Math.random() * 9) + 1}-${Math.floor(Math.random() * 9000) + 1000}-${Math.floor(Math.random() * 9000) + 1000}`,
            rating: Math.round((Math.random() * 2 + 3) * 10) / 10,
            delivery_fee: Math.floor(Math.random() * 500) + 200,
            min_order: Math.floor(Math.random() * 1500) + 1000,
            business_hours: {
                open: `${Math.floor(Math.random() * 4) + 10}:00`,
                close: `${Math.floor(Math.random() * 4) + 21}:00`
            },
            delivery_area: ["éƒ½å†…", "å¸‚å†…", "çœŒå†…"][Math.floor(Math.random() * 3)]
        };
    }

    function generateRandomMenu() {
        const menuCount = Math.floor(Math.random() * 3) + 2;
        const menu = [];

        for (let i = 0; i < menuCount; i++) {
            const name = randomData.menuNames[Math.floor(Math.random() * randomData.menuNames.length)];
            const category = randomData.categories[Math.floor(Math.random() * randomData.categories.length)];
            const allergens = randomData.allergens[Math.floor(Math.random() * randomData.allergens.length)];

            menu.push({
                id: `menu_${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`,
                name: `${name} ${i + 1}`,
                category: category,
                price: Math.floor(Math.random() * 2000) + 500,
                description: `ç¾å‘³ã—ã„${category}ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã™`,
                allergens: allergens,
                is_vegetarian: Math.random() > 0.7,
                calories: Math.floor(Math.random() * 800) + 200,
                cooking_time: Math.floor(Math.random() * 20) + 10
            });
        }

        return menu;
    }

    function generateRandomOrder() {
        const itemCount = Math.floor(Math.random() * 4) + 1;
        const items = [];
        let subtotal = 0;

        for (let i = 0; i < itemCount; i++) {
            const price = Math.floor(Math.random() * 2000) + 500;
            const quantity = Math.floor(Math.random() * 3) + 1;
            const itemTotal = price * quantity;
            subtotal += itemTotal;

            items.push({
                menu_id: `menu_${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}`,
                quantity: quantity,
                price: price,
                options: Math.random() > 0.5 ? ["extra_sauce"] : []
            });
        }

        const deliveryFee = Math.floor(Math.random() * 400) + 200;
        const tax = Math.floor(subtotal * 0.1);
        const discount = Math.random() > 0.7 ? Math.floor(Math.random() * 500) : 0;
        const total = subtotal + deliveryFee + tax - discount;

        return {
            id: `order_${Math.floor(Math.random() * 100000).toString().padStart(6, '0')}`,
            user_id: `user_${Math.floor(Math.random() * 100000).toString().padStart(6, '0')}`,
            restaurant_id: `rest_${Math.floor(Math.random() * 1000).toString().padStart(4, '0')}`,
            status: ["pending", "confirmed", "preparing", "out_for_delivery", "completed"][Math.floor(Math.random() * 5)],
            items: items,
            subtotal: subtotal,
            delivery_fee: deliveryFee,
            tax: tax,
            discount: discount,
            total: total,
            payment_method: ["credit_card", "debit_card", "qr_payment", "electronic_money"][Math.floor(Math.random() * 4)],
            delivery_type: ["delivery", "pickup"][Math.floor(Math.random() * 2)],
            estimated_delivery: new Date(Date.now() + Math.random() * 3600000).toISOString(),
            special_instructions: Math.random() > 0.5 ? "ç‰¹åˆ¥ãªè¦æœ›ãŒã‚ã‚Šã¾ã™" : ""
        };
    }

    function generateRandomUser() {
        const lastName = randomData.userNames[Math.floor(Math.random() * randomData.userNames.length)];
        const firstName = randomData.firstNames[Math.floor(Math.random() * randomData.firstNames.length)];
        const memberType = ["regular", "premium", "corporate", "new", "vip"][Math.floor(Math.random() * 5)];

        return {
            id: `user_${Math.floor(Math.random() * 1000000).toString().padStart(6, '0')}`,
            name: `${lastName} ${firstName}`,
            email: `${lastName.toLowerCase()}.${firstName.toLowerCase()}@example.com`,
            phone: `0${Math.floor(Math.random() * 9) + 70}-${Math.floor(Math.random() * 9000) + 1000}-${Math.floor(Math.random() * 9000) + 1000}`,
            member_type: memberType,
            registration_date: new Date(2020 + Math.random() * 5, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1).toISOString().split('T')[0],
            total_orders: Math.floor(Math.random() * 200),
            total_spent: Math.floor(Math.random() * 500000),
            is_active: Math.random() > 0.1,
            favorite_cuisines: randomData.restaurantTypes.slice(0, Math.floor(Math.random() * 3) + 1),
            address: {
                postal_code: `${Math.floor(Math.random() * 900) + 100}-${Math.floor(Math.random() * 9000) + 1000}`,
                prefecture: ["æ±äº¬éƒ½", "å¤§é˜ªåºœ", "ç¥å¥ˆå·çœŒ", "æ„›çŸ¥çœŒ", "ç¦å²¡çœŒ"][Math.floor(Math.random() * 5)],
                city: "ãƒ†ã‚¹ãƒˆå¸‚",
                street: `ãƒ†ã‚¹ãƒˆç”º${Math.floor(Math.random() * 10) + 1}-${Math.floor(Math.random() * 20) + 1}-${Math.floor(Math.random() * 30) + 1}`,
                building: `ãƒ†ã‚¹ãƒˆãƒãƒ³ã‚·ãƒ§ãƒ³${Math.floor(Math.random() * 500) + 100}å·`
            }
        };
    }

    function generateRandomDelivery() {
        const types = ["standard", "express", "scheduled", "contactless", "pickup"];
        const type = types[Math.floor(Math.random() * types.length)];

        return {
            id: `delivery_${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`,
            type: type,
            fee: type === "pickup" ? 0 : Math.floor(Math.random() * 500) + 200,
            estimated_time: Math.floor(Math.random() * 40) + 15,
            distance_km: Math.round(Math.random() * 8 * 10) / 10,
            area: ["éƒ½å†…", "å¤§é˜ªå¸‚å†…", "æ¨ªæµœå¸‚å†…", "åå¤å±‹å¸‚å†…", "ç¦å²¡å¸‚å†…"][Math.floor(Math.random() * 5)],
            conditions: {
                min_order: Math.floor(Math.random() * 1500) + 500,
                max_distance: Math.floor(Math.random() * 8) + 3,
                available_hours: "10:00-22:00"
            },
            driver_info: {
                name: "é…é€å“¡" + Math.floor(Math.random() * 100),
                phone: `090-${Math.floor(Math.random() * 9000) + 1000}-${Math.floor(Math.random() * 9000) + 1000}`,
                vehicle: ["ãƒã‚¤ã‚¯", "è‡ªè»¢è»Š", "è»½è‡ªå‹•è»Š", "é›»å‹•ãƒã‚¤ã‚¯"][Math.floor(Math.random() * 4)]
            }
        };
    }

    function generateRandomPayment() {
        const methods = ["credit_card", "debit_card", "electronic_money", "qr_payment", "cash_on_delivery"];
        const method = methods[Math.floor(Math.random() * methods.length)];
        const amount = Math.floor(Math.random() * 10000) + 1000;
        const brands = {
            credit_card: ["VISA", "MasterCard", "JCB"],
            debit_card: ["VISA", "MasterCard", "JCB"],
            electronic_money: ["Suica", "nanaco", "WAON", "æ¥½å¤©Edy"],
            qr_payment: ["PayPay", "LINE Pay", "æ¥½å¤©Pay", "dæ‰•ã„"]
        };

        return {
            id: `payment_${Math.floor(Math.random() * 100000).toString().padStart(6, '0')}`,
            method: method,
            amount: amount,
            currency: "JPY",
            status: ["pending", "completed", "failed"][Math.floor(Math.random() * 3)],
            transaction_id: `txn_${method.substring(0, 2)}_${Math.floor(Math.random() * 100000).toString().padStart(6, '0')}`,
            timestamp: new Date().toISOString(),
            ...(brands[method] && {
                [method.includes('card') ? 'brand' : 'service']: brands[method][Math.floor(Math.random() * brands[method].length)]
            }),
            ...(method.includes('card') && {
                last_four: Math.floor(Math.random() * 9000) + 1000,
                expiry: `${Math.floor(Math.random() * 12) + 1}/${Math.floor(Math.random() * 8) + 25}`
            })
        };
    }
</script>
</body>
</html>
<h2>JSチートシート</h2>
<table id="cheatSheetContainer" class="container">
  <thead>
    <tr>
      <th>説明</th>
      <th>コンテンツ</th>
    </tr>
  </thead>
  <tbody>
    <!-- ここにコンテンツが動的に追加されます -->
  </tbody>
</table>

<style>
  .item {
    border: 1px solid black;
    cursor: pointer;
    padding: 10px;
  }
  .item:hover {
    background-color: #f0f0f0;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th,
  td {
    border: 1px solid black;
    padding: 10px;
    text-align: left;
  }
</style>

<script>
  // コピー用のデータを保持する配列
  let cheatSheetData = [
    {
      description: "ログ出力 001",
      content: `console.log(\"===001==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 002",
      content: `console.log(\"===002==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 003",
      content: `console.log(\"===003==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 004",
      content: `console.log(\"===004==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 005",
      content: `console.log(\"===005==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 006",
      content: `console.log(\"===006==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 007",
      content: `console.log(\"===007==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 008",
      content: `console.log(\"===008==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 009",
      content: `console.log(\"===009==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 010",
      content: `console.log(\"===010==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 011",
      content: `console.log(\"===011==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 012",
      content: `console.log(\"===012==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 013",
      content: `console.log(\"===013==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 014",
      content: `console.log(\"===014==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 015",
      content: `console.log(\"===015==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 016",
      content: `console.log(\"===016==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 017",
      content: `console.log(\"===017==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 018",
      content: `console.log(\"===018==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 019",
      content: `console.log(\"===019==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "ログ出力 020",
      content: `console.log(\"===020==${new Date(
        new Date().getTime() + 9 * 3600 * 1000
      )
        .toISOString()
        .slice(0, 16)
        .replace(/-/g, "")
        .replace("T", "==")}== :\")`,
    },
    {
      description: "変数宣言",
      content: 'const exampleVariable = "Hello, World!";',
    },
    {
      description: "if文",
      content:
        'if (exampleVariable === "Hello, World!") { alert(exampleVariable); }',
    },
    {
      description: "forループ",
      content: "for (let i = 0; i < 5; i++) { console.log(i); }",
    },
    {
      description: "forEachループ",
      content: 'exampleVariable.split("").forEach(char => console.log(char));',
    },
    {
      description: "whileループ",
      content: "let i = 0; while (i < 5) { console.log(i); i++; }",
    },
    {
      description: "通常の関数",
      content: 'function greet(name) { return "Hello, " + name; }',
    },
    {
      description: "アロー関数",
      content: 'const greetArrow = (name) => "Hello, " + name;',
    },
    {
      description: "switch文",
      content:
        'switch (exampleVariable) { case "Hello, World!": alert("Match!"); break; default: alert("No match"); }',
    },
    {
      description: "オブジェクトの定義",
      content: 'const exampleObject = { greeting: "Hello", target: "World" };',
    },
    {
      description: "非同期処理",
      content:
        'new Promise((resolve, reject) => { setTimeout(() => resolve("Done!"), 1000); }).then(response => console.log(response));',
    },
    {
      description: "map関数",
      content:
        "const numbers = [1, 2, 3, 4, 5]; const doubled = numbers.map(n => n * 2);",
    },
    {
      description: "filter関数",
      content:
        "const numbers = [1, 2, 3, 4, 5]; const even = numbers.filter(n => n % 2 === 0);",
    },
    {
      description: "reduce関数",
      content:
        "const numbers = [1, 2, 3, 4, 5]; const sum = numbers.reduce((acc, n) => acc + n, 0);",
    },
    {
      description: "some関数",
      content:
        "const numbers = [1, 2, 3, 4, 5]; const hasNegative = numbers.some(n => n < 0);",
    },
    {
      description: "flat関数",
      content:
        "const arrays = [[1, 2], [3, 4], [5]]; const flat = arrays.flat();",
    },
    {
      description: "flatMap関数",
      content:
        "const arrays = [[1, 2], [3, 4], [5]]; const flatMapResult = arrays.flatMap(x => x.map(y => y * 2));",
    },
    {
      description: "every関数",
      content:
        "const numbers = [1, 2, 3, 4, 5]; const allPositive = numbers.every(n => n > 0);",
    },
  ];

  // データをDOMに追加する関数
  function populateCheatSheet(containerId, data) {
    const container = document.querySelector(`#${containerId} tbody`);
    data.forEach((item) => {
      const row = document.createElement("tr");
      row.className = "item";
      row.innerHTML = `<td>${item.description}</td><td>${item.content}</td>`;
      row.onclick = () => {
        navigator.clipboard.writeText(item.content).then(() => {
          showToast("コピーしました");
        });
      };
      container.appendChild(row);
    });
  }

  // トーストメッセージを表示する関数
  function showToast(message) {
    const toast = document.createElement("div");
    toast.textContent = message;
    toast.style.position = "fixed";
    toast.style.bottom = "20px";
    toast.style.left = "50%";
    toast.style.transform = "translateX(-50%)";
    toast.style.backgroundColor = "rgba(0,0,0,0.7)";
    toast.style.color = "white";
    toast.style.padding = "10px";
    toast.style.borderRadius = "5px";
    toast.style.zIndex = "1000";
    document.body.appendChild(toast);
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 3000);
  }

  // ページロード時にチートシートを生成
  window.onload = () => {
    populateCheatSheet("cheatSheetContainer", cheatSheetData);
  };
</script>

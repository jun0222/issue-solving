<h2>JSチートシート</h2>
<div id="cheatSheetContainer" class="container">
  <!-- ここにコンテンツが動的に追加されます -->
</div>

<style>
  .item {
    border: 1px solid black;
    cursor: pointer;
    padding: 10px;
  }
  .item:hover {
    background-color: #f0f0f0;
  }
</style>

<script>
  // コピー用のデータを保持する配列
  let cheatSheetData = [
    {
      content: 'const exampleVariable = "Hello, World!"; // 変数宣言',
    },
    {
      content:
        'if (exampleVariable === "Hello, World!") { alert(exampleVariable); } // if文',
    },
    {
      content: "for (let i = 0; i < 5; i++) { console.log(i); } // forループ",
    },
    {
      content:
        'exampleVariable.split("").forEach(char => console.log(char)); // forEachループ',
    },
    {
      content:
        "let i = 0; while (i < 5) { console.log(i); i++; } // whileループ",
    },
    {
      content:
        'function greet(name) { return "Hello, " + name; } // 通常の関数',
    },
    {
      content: 'const greetArrow = (name) => "Hello, " + name; // アロー関数',
    },
    {
      content:
        'switch (exampleVariable) { case "Hello, World!": alert("Match!"); break; default: alert("No match"); } // switch文',
    },
    {
      content:
        'const exampleObject = { greeting: "Hello", target: "World" }; // オブジェクトの定義',
    },
    {
      content:
        'new Promise((resolve, reject) => { setTimeout(() => resolve("Done!"), 1000); }).then(response => console.log(response)); // 非同期処理',
    },
    {
      content:
        "const numbers = [1, 2, 3, 4, 5]; const doubled = numbers.map(n => n * 2); // map関数",
    },
    {
      content:
        "const numbers = [1, 2, 3, 4, 5]; const even = numbers.filter(n => n % 2 === 0); // filter関数",
    },
    {
      content:
        "const numbers = [1, 2, 3, 4, 5]; const sum = numbers.reduce((acc, n) => acc + n, 0); // reduce関数",
    },
    {
      content:
        "const numbers = [1, 2, 3, 4, 5]; const hasNegative = numbers.some(n => n < 0); // some関数",
    },
    {
      content:
        "const arrays = [[1, 2], [3, 4], [5]]; const flat = arrays.flat(); // flat関数",
    },
    {
      content:
        "const arrays = [[1, 2], [3, 4], [5]]; const flatMapResult = arrays.flatMap(x => x.map(y => y * 2)); // flatMap関数",
    },
    {
      content:
        "const numbers = [1, 2, 3, 4, 5]; const allPositive = numbers.every(n => n > 0); // every関数",
    },
    {
      content: `console.log(\"===001 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===002 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===003 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===004 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===005 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===006 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===007 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===008 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===009 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
    {
      content: `console.log(\"===010 ${new Date()
        .toISOString()
        .slice(0, 10)
        .replace(/-/g, "")} :\")`, // ログ出力",
    },
  ];

  // データをDOMに追加する関数
  function populateCheatSheet(containerId, data) {
    const container = document.getElementById(containerId);
    data.forEach((item) => {
      const element = document.createElement("div");
      element.className = "item";
      element.textContent = item.content; // labelをcontentと同じに設定
      element.onclick = () => {
        navigator.clipboard.writeText(item.content).then(() => {
          showToast("コピーしました");
        });
      };
      container.appendChild(element);
    });
  }

  // トーストメッセージを表示する関数
  function showToast(message) {
    const toast = document.createElement("div");
    toast.textContent = message;
    toast.style.position = "fixed";
    toast.style.bottom = "20px";
    toast.style.left = "50%";
    toast.style.transform = "translateX(-50%)";
    toast.style.backgroundColor = "rgba(0,0,0,0.7)";
    toast.style.color = "white";
    toast.style.padding = "10px";
    toast.style.borderRadius = "5px";
    toast.style.zIndex = "1000";
    document.body.appendChild(toast);
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 3000);
  }

  // ページロード時にチートシートを生成
  window.onload = () => {
    populateCheatSheet("cheatSheetContainer", cheatSheetData);
  };
</script>
